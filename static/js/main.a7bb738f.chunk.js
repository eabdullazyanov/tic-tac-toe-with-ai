(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a,c,r=n(0),u=n.n(r),l=n(5),i=n.n(l),o=(n(14),n(1)),s=(n(15),n(2)),m=3,b=Math.pow(m,2),f=1,v=-1,d=(a={},Object(s.a)(a,f,"\u2715"),Object(s.a)(a,v,"\u25cb"),a),O=(c={},Object(s.a)(c,f,"Player 1"),Object(s.a)(c,v,"Player 2"),c),j="APP_STATUS_MAIN_MENU",E="APP_STATUS_GAME",p="APP_STATUS_GAME_AS_X",y="APP_STATUS_GAME_AS_O";function A(e,t){for(var n=[0,0,0],a=[0,0,0],c=[0,0],r=0;r<b;r++)if(t[r]===e){var u=Math.floor(r/m),l=r%m;n[u]++,a[l]++,l===u&&c[0]++,l+u===m-1&&c[1]++}return Math.max.apply(Math,n.concat(a,c))===m}var M=function(e){return e===f?v:f};function T(e,t){return t?t.reduce((function(n,a,c){return null===n?c:e===f&&a.value>t[n].value?c:e===v&&a.value<t[n].value?c:n}),null):null}function k(e,t,n){var a=function(e,t){for(var n=[],a=0;a<e.length;a++)null==e[a]&&(e[a]=t,n[a]={},A(t,e)?n[a].value=t:k(n[a],e,M(t)),e[a]=null);return n}(t,n);0===a.length?e.value=0:(e.value=function(e,t){return t[T(e,t)].value}(n,a),e.children=a)}var S=function(){var e={};return k(e,new Array(b),f),e}(),P=n(6),h=n(8),C=n(7),_=n.n(C),N=function(){return{id:_.a.generate(),occupiedBy:null}},g=function(){return new Array(b).fill(null).map(N)};var G=function(e){var t=e.ai,n=e.returnToMainMenu,a=Object(r.useState)(null),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(r.useState)(f),m=Object(o.a)(s,2),b=m[0],v=m[1],j=Object(r.useState)(S),E=Object(o.a)(j,2),p=E[0],y=E[1],A=Object(r.useState)((function(){return g()})),k=Object(o.a)(A,2),C=k[0],_=k[1],N=Object(r.useState)(0),G=Object(o.a)(N,2),w=G[0],B=G[1],U=Object(r.useCallback)((function(){i(null),v(f),y(S),_(g()),B(0)}),[]),I=Object(r.useCallback)((function(e){var t=function(e,t,n){var a=Object(h.a)(e);return a[n]=Object(P.a)({},a[n],{occupiedBy:t}),a}(C,b,e);_(t);var n=p.children[e];y(n),null==n.children?i(n.value):v(M(b)),B(w+1)}),[C,b,p,w]),X=Object(r.useCallback)((function(e){if(b!==t){var n=function(e,t){return t.findIndex((function(t){return t.id===e}))}(e,C);null==C[n].occupiedBy&&I(n)}}),[C,b,t,I]),x=Object(r.useCallback)((function(){var e=null==C[4].occupiedBy&&w<3?4:T(t,p.children);I(e)}),[p,t,I,C,w]);return Object(r.useEffect)((function(){if(b===t&&null==l){var e=setTimeout(x,500);return function(){return clearTimeout(e)}}}),[b,l,t,p,x]),u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"field"},C.map((function(e){var t=e.occupiedBy,n=e.id;return u.a.createElement("div",{key:n,className:"cell",onClick:function(){return X(n)}},null!=t&&d[t])}))),u.a.createElement("div",{className:"statusBar"},null==l?u.a.createElement("div",null,"".concat(O[b],"'s turn (").concat(d[b],")")):" "),null!=l&&u.a.createElement("div",{className:"gameOver"},u.a.createElement("div",{className:"message"},0===l?"Tie!":"".concat(O[l]," win!")),u.a.createElement("button",{type:"button",onClick:U},"Play again"),u.a.createElement("button",{type:"button",onClick:n},"Main Menu")))};G.defaultProps={ai:null};var w=G,B=function(e){var t=e.startGame,n=e.startGameAsX,a=e.startGameAsO;return u.a.createElement("div",{className:"mainMenu"},u.a.createElement("div",{className:"gameTitle"},"Tic Tac Toe"),u.a.createElement("button",{type:"button",onClick:n},"1 Player as X"),u.a.createElement("button",{type:"button",onClick:a},"1 Player as O"),u.a.createElement("button",{type:"button",onClick:t},"2 Players"))};var U=function(){var e=Object(r.useState)(j),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)((function(){return a(E)}),[]),l=Object(r.useCallback)((function(){return a(p)}),[]),i=Object(r.useCallback)((function(){return a(y)}),[]),s=Object(r.useCallback)((function(){return a(j)}),[]);return u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"appInner"},function(){switch(n){case j:return u.a.createElement(B,{startGame:c,startGameAsX:l,startGameAsO:i});case E:return u.a.createElement(w,{returnToMainMenu:s});case p:return u.a.createElement(w,{ai:v,returnToMainMenu:s});case y:return u.a.createElement(w,{ai:f,returnToMainMenu:s});default:return null}}()))};i.a.render(u.a.createElement(U,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(24)}},[[9,1,2]]]);
//# sourceMappingURL=main.a7bb738f.chunk.js.map